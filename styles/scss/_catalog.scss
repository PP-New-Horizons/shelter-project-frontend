@use "variables" as *;

@use "mixins" as *;

@use "base" as *;

@use "breadcrumb" as *;

.catalog {
  &__container {
    border-bottom: 2px solid map-get($colors, "primary");
  }
  &__title-container {
    background-color: map-get($colors, "tertiary");
    @include flex(column, center, center);
    padding-bottom: 0;
    padding-top: 2.5rem;
    gap: 2rem;
    & .breadcrumb {
      align-self: flex-start;
      margin-left: 6.25rem;
      & ul {
        & li {
          $link-color: map-get($colors, "primary");
          color: $link-color;
          & a {
            color: $link-color;
            @include underline-color($link-color);

            background-repeat: no-repeat;
            background-size: 0% 100%;
            background-position: 0 100%;
            transition: background-size 300ms ease,
              background-position 300ms ease;

            &:hover {
              background-size: 100% 100%;
            }
          }
        }
      }
    }
    & h2 {
      color: map-get($colors, "primary");
    }
  }
  &__title-img {
    @include flex(row, center, flex-end);
    & .img-left {
      margin-right: -3rem;
    }
    & .img-right:not(.cat) {
      margin-left: -1.5rem;
    }
    & .img-right.cat {
      margin-left: -4rem;
    }
  }
  &__wrapper {
    display: grid;
    grid-template-columns: 1fr 2fr;
  }
  &__filters {
    grid-column: 1 / 2;
    position: sticky;
    top: 0;
    height: 100vh;
    padding-top: 1rem;
  }

  &__card-group {
    grid-column: 2 / 3;
    min-height: 100vh;
    @include flex(column, flex-start, flex-start);
    gap: 1.875rem;
  }
  &__card {
    /*@include flex(row, center, center);*/
    @include card(
      map-get($colors, "primary"),
      770px,
      2.1875rem,
      row,
      space-between,
      center
    );
    min-width: 770px;
    max-height: 11.875rem;
    overflow: hidden;
  }
  &__img {
    border-radius: 2.8125rem;
    height: 11.875rem;
    & img {
      height: 100%;
      border-radius: inherit;
      object-fit: cover;
      object-position: center;
    }
  }
  &__text {
    /*@include flex(column, center, flex-start);*/
    flex: 1;
    padding-right: 2.1875rem;
  }
  &__name {
    @include flex(row, space-between, center);
    & a {
      color: map-get($colors, "base");
      &:hover {
        color: map-get($colors, "tertiary");
        transition: box-shadow 0.2s;
      }
    }
  }
  &__gender {
    @include flex(row, flex-start, center);
    gap: 0.3125rem;
    margin-bottom: 1rem;
    & span {
      & p {
        font-size: 1.5625rem;
      }
    }
  }
  &__description {
    font-size: map-get($font-sizes, "medium");
    & p {
      font-weight: map-get($font-weights, "medium");
    }
  }

  &__pagination {
    @include flex(row, center, center);
    gap: 3.125rem;
    margin-top: 3.125rem;
    grid-area: 2 / 2 / 3 / 3;

    & button {
      border: none;
      background-color: transparent;
      cursor: pointer;

      &:hover svg {
        path,
        circle {
          stroke: map-get($colors, "primary");
          transition: stroke 0.3s;
        }
      }

      &:disabled {
        cursor: default;

        svg {
          path,
          circle {
            stroke: map-get($colors, "form-primary");
          }
        }
      }
    }
  }

  &__links {
    width: 20%;
    @include flex(row, space-around, center);
    cursor: pointer;
  }

  &__page-number:not(.active) {
    color: map-get($colors, "form-secondary");
  }

  &__ellipsis {
    color: map-get($colors, "form-secondary");
  }

  &__filters-container {
    display: inline-block;
    position: sticky;
    & ul {
      margin-bottom: 1.25rem;
    }
  }
  &__filter-name {
    position: relative;
    cursor: pointer;
    display: inline-block;
    font-weight: map-get($font-weights, "bold");
    font-size: map-get($font-sizes, "medium");
    color: map-get($colors, "primary");
    @include flex(row, space-between, center);
    gap: 3.375rem;
    &.active {
      color: map-get($colors, "primary");
      &::after {
        transform: rotate(90deg);
      }
    }
    &::after {
      content: url(/shelter-project-frontend/assets/images/cat-catalog/catalog-filter-hevron.svg);
      transition: transform 0.2s ease;
    }
  }
  &__filter-options {
    li {
      display: none;
      padding: 0.2rem;
      color: map-get($colors, "primary");

      & input[type="checkbox"] {
        appearance: none;
        width: 1rem;
        height: 1rem;
        border: 1px solid map-get($colors, "primary");
        position: relative;
        cursor: pointer;
        margin-right: 0.5rem;

        &::before {
          content: "";
          display: block;
          width: 100%;
          height: 100%;
          background-color: transparent;
        }

        &:checked::before {
          background-color: map-get($colors, "primary");
        }

        &:checked::after {
          content: "";
          position: absolute;
          top: 0.25rem;
          left: 0.25rem;
          width: 0.5rem;
          height: 0.5rem;
          clip-path: polygon(
            14% 44%,
            0% 0%,
            45% 58%,
            100% 0%,
            100% 18%,
            47% 100%
          );
          background-color: map-get($colors, "base");
        }
      }
    }

    &.visible li {
      display: block;
    }
  }
  &__filter-options.visible {
    & li {
      display: block;
    }
  }
}

.infosheet {
  &__add-to-favorites {
    &.filled {
      & svg {
        fill: map-get($colors, "tertiary");
      }
      & svg path {
        stroke: map-get($colors, "tertiary");
      }
    }
    &:disabled {
      cursor: default;
    }
  }
}

.favorites-dropdown {
  @include flex(column, center, center);
  gap: 1.875rem;
  &__name {
    width: 100%;
    @include flex(row, space-between, flex-start);
    & h2 {
      color: map-get($colors, "primary");
    }
  }
  &__img {
    width: 16.5rem;

    & img {
      border-radius: 0.9375rem;
    }
  }
  &__separator {
    height: 2px;
    background-color: map-get($colors, "primary");
    width: 16.5rem;
    margin-bottom: 1.25rem;
  }
}

.remove-btn {
  border: none;
  background-color: transparent;
  cursor: pointer;
  width: 100%;
  @include flex(row, flex-end, center);
}

.favorites-item {
  @include flex(column, center, center);
  gap: 1.25rem;
  & button {
    margin-left: 0;
  }
}

.apply-filters {
  @include button-color;
}
